<mxfile host="" modified="2021-01-13T12:31:35.673Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36" etag="Gnum9zk6GyGSxU43FGpn" version="13.7.9" type="embed"><diagram id="bUTP8GtsCs6HYI4gjt67" name="Page-1"><mxGraphModel dx="1884" dy="743" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="rHoo9iBPds4gj_GHf4b--6" value="&lt;span&gt;Client&lt;/span&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="1" vertex="1"><mxGeometry x="-15" y="190" width="100" height="700" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--11" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--6" vertex="1"><mxGeometry x="45" y="90" width="10" height="130" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--13" value="" style="html=1;verticalAlign=bottom;endArrow=block;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--6" target="rHoo9iBPds4gj_GHf4b--7" edge="1"><mxGeometry width="80" relative="1" as="geometry"><mxPoint x="55" y="100" as="sourcePoint"/><mxPoint x="135" y="100" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--16" value="写成功" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--13" vertex="1" connectable="0"><mxGeometry x="-0.0088" y="3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--18" value="重试3次写服务器2" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=-0.3;entryY=-0.1;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--6" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="58" y="148" as="sourcePoint"/><Array as="points"><mxPoint x="83" y="148"/><mxPoint x="83" y="164"/></Array><mxPoint x="50" y="164" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--23" value="请求管理中心仲裁" style="html=1;verticalAlign=bottom;endArrow=block;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--6" target="rHoo9iBPds4gj_GHf4b--10" edge="1"><mxGeometry width="80" relative="1" as="geometry"><mxPoint x="55" y="190" as="sourcePoint"/><mxPoint x="135" y="190" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--27" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--6" vertex="1"><mxGeometry x="45" y="240" width="10" height="90" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--29" value="标记服务器2临时失效，将写入服务器2的数据写入临时服务器（操作日志格式）" style="html=1;verticalAlign=bottom;endArrow=block;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--6" target="rHoo9iBPds4gj_GHf4b--9" edge="1"><mxGeometry width="80" relative="1" as="geometry"><mxPoint x="55" y="290" as="sourcePoint"/><mxPoint x="135" y="290" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--33" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--6" vertex="1"><mxGeometry x="45" y="380" width="10" height="60" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--36" value="服务器1正常读写" style="html=1;verticalAlign=bottom;endArrow=block;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--6" target="rHoo9iBPds4gj_GHf4b--7" edge="1"><mxGeometry width="80" relative="1" as="geometry"><mxPoint x="55" y="320" as="sourcePoint"/><mxPoint x="135" y="320" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--44" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--6" vertex="1"><mxGeometry x="45" y="513" width="10" height="67" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--46" value="临时失效恢复期间，服务器1正常读写" style="html=1;verticalAlign=bottom;endArrow=block;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--6" edge="1"><mxGeometry width="80" relative="1" as="geometry"><mxPoint x="55" y="533" as="sourcePoint"/><mxPoint x="224.5" y="533" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--48" value="临时失效恢复期间，服务器2只写不读" style="html=1;verticalAlign=bottom;endArrow=block;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--6" edge="1"><mxGeometry width="80" relative="1" as="geometry"><mxPoint x="55" y="563" as="sourcePoint"/><mxPoint x="409.5" y="563" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--55" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--6" vertex="1"><mxGeometry x="45" y="610" width="10" height="50" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--7" value="&lt;span&gt;存储服务器1&lt;br&gt;（正常）&lt;br&gt;&lt;/span&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="1" vertex="1"><mxGeometry x="160" y="190" width="100" height="700" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--45" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--7" vertex="1"><mxGeometry x="45" y="512" width="10" height="31" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--12" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--7" vertex="1"><mxGeometry x="45" y="90" width="10" height="80" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--35" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--7" vertex="1"><mxGeometry x="45" y="303" width="10" height="27" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--8" value="&lt;span&gt;存储服务器2&lt;br&gt;（临时失效）&lt;br&gt;&lt;/span&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="1" vertex="1"><mxGeometry x="345" y="190" width="100" height="690" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--14" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--8" vertex="1"><mxGeometry x="45" y="90" width="10" height="80" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--24" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--8" vertex="1"><mxGeometry x="45" y="210" width="10" height="40" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--30" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--8" vertex="1"><mxGeometry x="45" y="383" width="10" height="17" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--42" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--8" vertex="1"><mxGeometry x="45" y="450" width="10" height="80" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--47" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--8" vertex="1"><mxGeometry x="45" y="553" width="10" height="37" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--51" value="如果出现数据冲突，依据时间戳进行判断" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--8" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="55" y="500" as="sourcePoint"/><Array as="points"><mxPoint x="80" y="500"/></Array><mxPoint x="60" y="520" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--9" value="&lt;span&gt;临时服务器&lt;/span&gt;&lt;br&gt;&lt;span&gt;（操作日志服务）&lt;/span&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="1" vertex="1"><mxGeometry x="525" y="190" width="100" height="700" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--28" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--9" vertex="1"><mxGeometry x="45" y="270" width="10" height="40" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--38" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--9" vertex="1"><mxGeometry x="45" y="430" width="10" height="60" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--52" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--9" vertex="1"><mxGeometry x="45" y="580" width="10" height="40" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--10" value="&lt;span&gt;管理中心服务器&lt;/span&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="1" vertex="1"><mxGeometry x="700" y="190" width="100" height="690" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--22" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--10" vertex="1"><mxGeometry x="45" y="150" width="10" height="130" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--31" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--10" vertex="1"><mxGeometry x="45" y="379" width="10" height="80" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--53" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#21C0A5;strokeColor=#006658;fontColor=#5C5C5C;" parent="rHoo9iBPds4gj_GHf4b--10" vertex="1"><mxGeometry x="45" y="570" width="10" height="80" as="geometry"/></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--15" value="写失败" style="html=1;verticalAlign=bottom;endArrow=block;strokeColor=#006658;fontColor=#5C5C5C;" parent="1" target="rHoo9iBPds4gj_GHf4b--8" edge="1"><mxGeometry width="80" relative="1" as="geometry"><mxPoint x="40" y="320" as="sourcePoint"/><mxPoint x="120" y="320" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--25" value="管理中心尝试写操作" style="html=1;verticalAlign=bottom;endArrow=block;exitX=0.1;exitY=0.531;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.275;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#006658;fontColor=#5C5C5C;" parent="1" source="rHoo9iBPds4gj_GHf4b--22" target="rHoo9iBPds4gj_GHf4b--24" edge="1"><mxGeometry width="80" relative="1" as="geometry"><mxPoint x="470" y="440" as="sourcePoint"/><mxPoint x="402" y="411" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--26" value="管理中心返回仲裁结果（服务器2临时失效）" style="html=1;verticalAlign=bottom;endArrow=block;exitX=0.1;exitY=0.8;exitDx=0;exitDy=0;exitPerimeter=0;strokeColor=#006658;fontColor=#5C5C5C;" parent="1" source="rHoo9iBPds4gj_GHf4b--22" target="rHoo9iBPds4gj_GHf4b--6" edge="1"><mxGeometry width="80" relative="1" as="geometry"><mxPoint x="748" y="430" as="sourcePoint"/><mxPoint x="402" y="431.97" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--32" value="服务器2恢复正常，向管理中心报告" style="html=1;verticalAlign=bottom;endArrow=block;strokeColor=#006658;fontColor=#5C5C5C;" parent="1" edge="1"><mxGeometry width="80" relative="1" as="geometry"><mxPoint x="399" y="579" as="sourcePoint"/><mxPoint x="750" y="579" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--37" value="通知Client服务器进入临时失效恢复状态，数据只写不读" style="html=1;verticalAlign=bottom;endArrow=block;exitX=0;exitY=0.525;exitDx=0;exitDy=0;exitPerimeter=0;strokeColor=#006658;fontColor=#5C5C5C;" parent="1" source="rHoo9iBPds4gj_GHf4b--31" edge="1"><mxGeometry width="80" relative="1" as="geometry"><mxPoint x="740" y="610" as="sourcePoint"/><mxPoint x="39.25" y="610" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--41" value="通知临时服务器向服务器2恢复数据" style="html=1;verticalAlign=bottom;endArrow=block;exitX=0.1;exitY=0.531;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.333;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#006658;fontColor=#5C5C5C;" parent="1" target="rHoo9iBPds4gj_GHf4b--38" edge="1"><mxGeometry width="80" relative="1" as="geometry"><mxPoint x="748" y="640" as="sourcePoint"/><mxPoint x="402" y="641.97" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--43" value="将操作日志发送到服务器2执行&lt;br&gt;以恢复数据" style="html=1;verticalAlign=bottom;endArrow=block;exitX=0.1;exitY=0.531;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.333;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#006658;fontColor=#5C5C5C;" parent="1" edge="1"><mxGeometry width="80" relative="1" as="geometry"><mxPoint x="568" y="670.02" as="sourcePoint"/><mxPoint x="400" y="670" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--54" value="临时操作日志全部恢复完毕" style="html=1;verticalAlign=bottom;endArrow=block;strokeColor=#006658;fontColor=#5C5C5C;" parent="1" edge="1"><mxGeometry width="80" relative="1" as="geometry"><mxPoint x="580" y="780" as="sourcePoint"/><mxPoint x="750" y="780" as="targetPoint"/></mxGeometry></mxCell><mxCell id="rHoo9iBPds4gj_GHf4b--56" value="通知Cliet集群恢复正常" style="html=1;verticalAlign=bottom;endArrow=block;exitX=0;exitY=0.525;exitDx=0;exitDy=0;exitPerimeter=0;strokeColor=#006658;fontColor=#5C5C5C;" parent="1" edge="1"><mxGeometry width="80" relative="1" as="geometry"><mxPoint x="747.88" y="821" as="sourcePoint"/><mxPoint x="42.13" y="820" as="targetPoint"/></mxGeometry></mxCell></root></mxGraphModel></diagram></mxfile>